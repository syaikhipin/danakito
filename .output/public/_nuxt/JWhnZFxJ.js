import{e as H,f as V,u as z,r as f,D as E,p as O,g as X,c as a,a as t,t as o,i as J,m as n,d as b,F as h,j as y,k as _,o as i,n as w}from"./LRf28HWw.js";import{u as K}from"./-1I0UGeK.js";import{_ as Q}from"./DlAUqK2U.js";const U={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},W={class:"bg-white shadow-lg border-b"},Z={class:"max-w-7xl mx-auto px-6 py-6"},tt={class:"flex items-center justify-between"},et={class:"flex items-center space-x-4"},st={class:"text-gray-600"},ot={class:"flex space-x-3"},nt={class:"max-w-7xl mx-auto px-6 py-8 space-y-8"},lt={key:0,class:"text-center py-20"},at={key:1,class:"space-y-8"},it={class:"bg-white rounded-xl shadow-lg p-8"},rt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},dt={class:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-6 text-center"},mt={class:"text-3xl font-bold text-green-600"},ct={class:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6 text-center"},ut={class:"text-2xl font-bold text-blue-600"},gt={class:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-6 text-center"},xt={class:"text-2xl font-bold text-orange-600"},vt={class:"prose max-w-none"},ht={class:"text-gray-700 leading-relaxed"},yt={class:"bg-white rounded-xl shadow-lg p-8"},pt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ft={class:"space-y-3"},bt={class:"w-16 text-sm font-medium text-gray-600"},_t={class:"flex-1 mx-4"},wt={class:"w-full bg-gray-200 rounded-full h-4"},Mt={class:"w-24 text-right text-sm font-semibold text-green-600"},Pt={class:"space-y-3"},Rt={class:"w-16 text-sm font-medium text-gray-600"},kt={class:"flex-1 mx-4"},At={class:"w-full bg-gray-200 rounded-full h-4"},It={class:"w-24 text-right text-sm font-semibold text-red-600"},Ct={class:"mt-8"},Lt={class:"space-y-3"},Dt={class:"w-16 text-sm font-medium text-gray-600"},St={class:"flex-1 mx-4"},Tt={class:"w-full bg-gray-200 rounded-full h-6"},$t={class:"bg-white rounded-xl shadow-lg p-8"},Et={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},jt={class:"space-y-3"},Ft={class:"w-16 text-sm font-medium text-gray-600"},Nt={class:"flex-1 mx-4"},Bt={class:"w-full bg-gray-200 rounded-full h-4"},Gt={class:"w-28 text-right text-sm font-semibold"},Yt={class:"space-y-3"},qt={class:"w-16 text-sm font-medium text-gray-600"},Ht={class:"flex-1 mx-4"},Vt={class:"w-full bg-gray-200 rounded-full h-4"},zt={class:"w-24 text-right text-sm font-semibold"},Ot={class:"bg-white rounded-xl shadow-lg p-8"},Xt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Jt={class:"bg-blue-50 rounded-lg p-6"},Kt={class:"text-center"},Qt={class:"text-3xl font-bold text-blue-600"},Ut={class:"bg-green-50 rounded-lg p-6"},Wt={class:"text-center"},Zt={class:"text-2xl font-bold text-green-600"},te={class:"bg-purple-50 rounded-lg p-6"},ee={class:"text-center"},se={class:"text-2xl font-bold text-purple-600"},oe={class:"mt-8"},ne={class:"relative"},le={class:"w-full bg-gray-200 rounded-full h-6"},ae={class:"flex justify-between mt-2 text-xs text-gray-600"},ie={class:"bg-white rounded-xl shadow-lg p-8"},re={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},de={class:"space-y-3"},me={class:"flex-1"},ce={class:"font-medium text-gray-900"},ue={class:"text-sm text-gray-600"},ge={class:"space-y-3"},xe={class:"font-medium text-gray-900"},ve={class:"text-sm text-gray-600"},he={class:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-8"},ye={class:"prose max-w-none"},pe=["innerHTML"],fe={key:2,class:"text-center py-20"},be={class:"text-gray-600 mb-4"},_e=H({__name:"analysis-report",async setup(we){let M,D;const{data:Me,pending:Pe}=([M,D]=V(()=>K("/mock-data.json","$oorhEl5PXC")),M=await M,D(),M);z({title:"Investment Analysis Report - danakito",meta:[{name:"description",content:"Detailed AI-powered investment analysis report with charts and projections"}]});const k=f(!0),P=f(""),m=f(null),u=f(null),g=f([]),x=f(null),j=E(()=>g.value.length?Math.max(...g.value.map(l=>l.totalCost)):0),F=E(()=>g.value.length?Math.max(...g.value.map(l=>l.monthlyPayment)):0),A=O(),R={creditAmount:Number(A.query.amount)||25e4,investmentType:A.query.type||"retail",location:A.query.location||"New York City, NY"},S=async()=>{k.value=!0,P.value="";try{console.log("Generating detailed analysis report...");const l=await $fetch("/api/analysis/openrouter",{method:"POST",body:{...R,generateDetailedReport:!0}});m.value=l,N(),B(),G(),console.log("Report generated successfully!",l)}catch(l){console.error("Error generating report:",l),P.value="Failed to generate analysis report. Please try again."}finally{k.value=!1}},N=()=>{const l=R.creditAmount,e=.15,r=.075/12,c=60,p=l*(r*Math.pow(1+r,c))/(Math.pow(1+r,c)-1),v=[],I=[],C=[];let L=l;for(let d=1;d<=5;d++){L=L*(1+e);const T=L*.3;v.push({year:d,value:Math.round(T)});const $=p*12;I.push({year:d,payment:Math.round($)});const q=T-$;C.push({year:d,profit:Math.round(q)})}u.value={investmentGrowth:v,loanPayments:I,netProfit:C,maxInvestment:Math.max(...v.map(d=>d.value)),maxLoanPayment:Math.max(...I.map(d=>d.payment)),maxNetProfit:Math.max(...C.map(d=>Math.abs(d.profit)))}},B=()=>{const l=R.creditAmount,e=60,s=[6.5,7,7.5,8,8.5,9];g.value=s.map(r=>{const c=r/100/12,p=l*(c*Math.pow(1+c,e))/(Math.pow(1+c,e)-1),v=p*e;return{rate:r,monthlyPayment:Math.round(p),totalCost:Math.round(v)}})},G=()=>{const l=R.creditAmount,e=l*.03,c=l*.015+4800,p=c*1.2,v=Math.ceil(l/(e-c));x.value={months:Math.max(v,1),monthlyRevenue:Math.round(p),totalInvestment:l}},Y=()=>{window.print(),alert("PDF download functionality would be implemented here")};return X(()=>{S()}),(l,e)=>(i(),a("div",U,[t("div",W,[t("div",Z,[t("div",tt,[t("div",et,[e[2]||(e[2]=t("div",{class:"text-3xl"},"📊",-1)),t("div",null,[e[1]||(e[1]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Investment Analysis Report",-1)),t("p",st,"Generated by danakito AI • "+o(new Date().toLocaleDateString()),1)])]),t("div",ot,[t("button",{onClick:Y,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2"},e[3]||(e[3]=[t("span",null,"📥",-1),t("span",null,"Download PDF",-1)])),t("button",{onClick:e[0]||(e[0]=s=>l.window.print()),class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors flex items-center space-x-2"},e[4]||(e[4]=[t("span",null,"🖨️",-1),t("span",null,"Print",-1)]))])])])]),t("div",nt,[n(k)?(i(),a("div",lt,e[5]||(e[5]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"},null,-1),t("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"🧠 Generating AI Analysis Report...",-1),t("p",{class:"text-gray-600"},"Processing market data and generating insights...",-1)]))):n(m)?(i(),a("div",at,[t("div",it,[e[9]||(e[9]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6 flex items-center"},[t("span",{class:"mr-3"},"📋"),b(" Executive Summary ")],-1)),t("div",rt,[t("div",dt,[t("div",mt,o(n(m).score)+"%",1),e[6]||(e[6]=t("div",{class:"text-sm text-green-700 font-medium"},"Investment Score",-1))]),t("div",ct,[t("div",ut,o(n(m).roi),1),e[7]||(e[7]=t("div",{class:"text-sm text-blue-700 font-medium"},"Projected ROI",-1))]),t("div",gt,[t("div",xt,o(n(m).risk),1),e[8]||(e[8]=t("div",{class:"text-sm text-orange-700 font-medium"},"Risk Level",-1))])]),t("div",vt,[t("p",ht,o(n(m).recommendation),1)])]),t("div",yt,[e[13]||(e[13]=t("h3",{class:"text-xl font-bold text-gray-900 mb-6 flex items-center"},[t("span",{class:"mr-3"},"💰"),b(" Investment vs Loan Analysis ")],-1)),t("div",pt,[t("div",null,[e[10]||(e[10]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Investment Growth Projection (5 Years)",-1)),t("div",ft,[(i(!0),a(h,null,y(n(u).investmentGrowth,(s,r)=>(i(),a("div",{key:r,class:"flex items-center"},[t("div",bt,"Year "+o(r+1),1),t("div",_t,[t("div",wt,[t("div",{class:"h-4 rounded-full bg-gradient-to-r from-green-400 to-green-600 transition-all duration-1000",style:_({width:s.value/n(u).maxInvestment*100+"%"})},null,4)])]),t("div",Mt," $"+o(s.value.toLocaleString()),1)]))),128))])]),t("div",null,[e[11]||(e[11]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Loan Payment Schedule (5 Years)",-1)),t("div",Pt,[(i(!0),a(h,null,y(n(u).loanPayments,(s,r)=>(i(),a("div",{key:r,class:"flex items-center"},[t("div",Rt,"Year "+o(r+1),1),t("div",kt,[t("div",At,[t("div",{class:"h-4 rounded-full bg-gradient-to-r from-red-400 to-red-600 transition-all duration-1000",style:_({width:s.payment/n(u).maxLoanPayment*100+"%"})},null,4)])]),t("div",It," $"+o(s.payment.toLocaleString()),1)]))),128))])])]),t("div",Ct,[e[12]||(e[12]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Net Profit After Loan Payments",-1)),t("div",Lt,[(i(!0),a(h,null,y(n(u).netProfit,(s,r)=>(i(),a("div",{key:r,class:"flex items-center"},[t("div",Dt,"Year "+o(r+1),1),t("div",St,[t("div",Tt,[t("div",{class:w(["h-6 rounded-full transition-all duration-1000",s.profit>0?"bg-gradient-to-r from-green-400 to-green-600":"bg-gradient-to-r from-red-400 to-red-600"]),style:_({width:Math.abs(s.profit/n(u).maxNetProfit)*100+"%"})},null,6)])]),t("div",{class:w(["w-32 text-right text-sm font-semibold",s.profit>0?"text-green-600":"text-red-600"])},o(s.profit>0?"+":"")+"$"+o(s.profit.toLocaleString()),3)]))),128))])])]),t("div",$t,[e[16]||(e[16]=t("h3",{class:"text-xl font-bold text-gray-900 mb-6 flex items-center"},[t("span",{class:"mr-3"},"📈"),b(" Interest Rate Impact Analysis ")],-1)),t("div",Et,[t("div",null,[e[14]||(e[14]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Total Cost at Different Interest Rates",-1)),t("div",jt,[(i(!0),a(h,null,y(n(g),s=>(i(),a("div",{key:s.rate,class:"flex items-center"},[t("div",Ft,o(s.rate)+"%",1),t("div",Nt,[t("div",Bt,[t("div",{class:w(["h-4 rounded-full transition-all duration-1000",s.rate<=7?"bg-green-500":s.rate<=8?"bg-yellow-500":"bg-red-500"]),style:_({width:s.totalCost/n(j)*100+"%"})},null,6)])]),t("div",Gt," $"+o(s.totalCost.toLocaleString()),1)]))),128))])]),t("div",null,[e[15]||(e[15]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Monthly Payment Comparison",-1)),t("div",Yt,[(i(!0),a(h,null,y(n(g),s=>(i(),a("div",{key:`monthly-${s.rate}`,class:"flex items-center"},[t("div",qt,o(s.rate)+"%",1),t("div",Ht,[t("div",Vt,[t("div",{class:w(["h-4 rounded-full transition-all duration-1000",s.rate<=7?"bg-green-500":s.rate<=8?"bg-yellow-500":"bg-red-500"]),style:_({width:s.monthlyPayment/n(F)*100+"%"})},null,6)])]),t("div",zt," $"+o(s.monthlyPayment.toLocaleString()),1)]))),128))])])])]),t("div",Ot,[e[23]||(e[23]=t("h3",{class:"text-xl font-bold text-gray-900 mb-6 flex items-center"},[t("span",{class:"mr-3"},"⚖️"),b(" Break-even Analysis ")],-1)),t("div",Xt,[t("div",Jt,[t("div",Kt,[t("div",Qt,o(n(x).months),1),e[17]||(e[17]=t("div",{class:"text-sm text-blue-700 font-medium"},"Months to Break Even",-1))])]),t("div",Ut,[t("div",Wt,[t("div",Zt,"$"+o(n(x).monthlyRevenue.toLocaleString()),1),e[18]||(e[18]=t("div",{class:"text-sm text-green-700 font-medium"},"Required Monthly Revenue",-1))])]),t("div",te,[t("div",ee,[t("div",se,"$"+o(n(x).totalInvestment.toLocaleString()),1),e[19]||(e[19]=t("div",{class:"text-sm text-purple-700 font-medium"},"Total Investment",-1))])])]),t("div",oe,[e[22]||(e[22]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Break-even Timeline",-1)),t("div",ne,[t("div",le,[t("div",{class:"bg-gradient-to-r from-red-400 via-yellow-400 to-green-500 h-6 rounded-full transition-all duration-2000",style:_({width:Math.min(n(x).months/60*100,100)+"%"})},null,4)]),t("div",ae,[e[20]||(e[20]=t("span",null,"Start",-1)),t("span",null,o(Math.floor(n(x).months/12))+" years "+o(n(x).months%12)+" months",1),e[21]||(e[21]=t("span",null,"5 Years",-1))])])])]),t("div",ie,[e[26]||(e[26]=t("h3",{class:"text-xl font-bold text-gray-900 mb-6 flex items-center"},[t("span",{class:"mr-3"},"⚠️"),b(" Risk Assessment & Mitigation ")],-1)),t("div",re,[t("div",null,[e[24]||(e[24]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Risk Factors",-1)),t("div",de,[(i(!0),a(h,null,y(n(m).riskFactors,s=>(i(),a("div",{key:s.factor,class:"flex items-center"},[t("div",{class:w(["w-3 h-3 rounded-full mr-3",s.level==="High"?"bg-red-500":s.level==="Medium"?"bg-yellow-500":"bg-green-500"])},null,2),t("div",me,[t("div",ce,o(s.factor),1),t("div",ue,o(s.description),1)]),t("div",{class:w(["px-2 py-1 rounded text-xs font-medium",s.level==="High"?"bg-red-100 text-red-800":s.level==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},o(s.level),3)]))),128))])]),t("div",null,[e[25]||(e[25]=t("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Mitigation Strategies",-1)),t("div",ge,[(i(!0),a(h,null,y(n(m).mitigationStrategies,s=>(i(),a("div",{key:s.title,class:"border-l-4 border-blue-400 pl-4"},[t("div",xe,o(s.title),1),t("div",ve,o(s.description),1)]))),128))])])])]),t("div",he,[e[27]||(e[27]=t("h3",{class:"text-xl font-bold text-gray-900 mb-6 flex items-center"},[t("span",{class:"mr-3"},"🤖"),b(" AI-Generated Insights ")],-1)),t("div",ye,[t("div",{innerHTML:n(m).detailedAnalysis,class:"text-gray-700 leading-relaxed"},null,8,pe)])])])):n(P)?(i(),a("div",fe,[e[28]||(e[28]=t("div",{class:"text-6xl mb-4"},"❌",-1)),e[29]||(e[29]=t("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Analysis Failed",-1)),t("p",be,o(n(P)),1),t("button",{onClick:S,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors"}," Try Again ")])):J("",!0)])]))}}),Ie=Q(_e,[["__scopeId","data-v-b434e511"]]);export{Ie as default};
